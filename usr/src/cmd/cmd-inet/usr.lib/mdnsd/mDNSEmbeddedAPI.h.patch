# illumos revision
--- usr/src/contrib/mDNSResponder/mDNSCore/mDNSEmbeddedAPI.h	2017-07-24 09:23:31.000000000 -0500
+++ usr/src/cmd/cmd-inet/usr.lib/mdnsd/mDNSEmbeddedAPI.h	2017-07-24 09:23:47.000000000 -0500
@@ -276,6 +276,8 @@ typedef struct mDNSInterfaceID_dummystru
 // find you get code that doesn't work consistently on big-endian and little-endian machines.
 #if defined(_WIN32)
  #pragma pack(push,2)
+#elif !defined(__GNUC__)
+ #pragma pack(1)
 #endif
 typedef       union { mDNSu8 b[ 2]; mDNSu16 NotAnInteger; } mDNSOpaque16;
 typedef       union { mDNSu8 b[ 4]; mDNSu32 NotAnInteger; } mDNSOpaque32;
@@ -284,6 +286,8 @@ typedef       union { mDNSu8 b[ 8]; mDNS
 typedef       union { mDNSu8 b[16]; mDNSu16 w[8]; mDNSu32 l[4]; } mDNSOpaque128;
 #if defined(_WIN32)
  #pragma pack(pop)
+#elif !defined(__GNUC__)
+ #pragma pack()
 #endif
 
 typedef mDNSOpaque16 mDNSIPPort;        // An IP port is a two-byte opaque identifier (not an integer)
@@ -2566,6 +2570,8 @@ extern mDNSu8 NumUnreachableDNSServers;
     #define mDNSinline static __inline
 #elif ((__GNUC__ > 2) || ((__GNUC__ == 2) && (__GNUC_MINOR__ >= 9)))
     #define mDNSinline static inline
+#else
+    #define mDNSinline static inline
 #endif
 
 // If we're not doing inline functions, then this header needs to have the extern declarations
